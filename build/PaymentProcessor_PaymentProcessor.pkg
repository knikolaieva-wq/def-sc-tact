{"name":"PaymentProcessor","code":"te6ccgECDwEAA94AART/APSkE/S88sgLAQIBYgIDA/bQAdBy1yHSANIA+kAhEDRQZm8E+GEC+GLtRNDSAAGOGfpAgQEB1wD6QNQB0PpA9AQwECUQJBAjbBWOEPpA+kD6QFUgA9FYbYAZVSDiBpJfBuAE1w0f8uCCIYIQ7qso0LrjAiGCEOIly9q64wIBghBCwg96uuMCXwbywIIEBQYCASALDACIMWwSgQEB1wAwggDllPhCJMcF8vSCAOG+IcL/lSGBJxC7kXDi8vREMwLIfwHKAFVAUEXOEoEBAc8AzgHIzhL0AM3J7VQA4DH6QDCCAOWU+EIlxwXy9PgnbxCBLyohwgDy9HBtWm1tQAN/yM+FgMoAz4RAzgH6AoBpz0ACXG4BbrCTW8+BnVjPhoDPhID0APQAz4Hi9ADJAfsAQDTIfwHKAFVAUEXOEoEBAc8AzgHIzhL0AM3J7VQB9PpA+kCBAQHXANIA1AHQ1ywBkW2T+kAB4jEVFEMwMATUMNCBAQHXADCCAPVKUzTHBbPy9IIA06IiwgDy9IE8rvgjWLvy9CiBAQskgQEBQTP0Cm+hlAHXADCSW23iggCkOfhCJccF8vQgbrORpJIwceIQKYEBC0BEgQEBBwP6IW6VW1n0WTCYyAHPAEEz9EHiUxSogScQqQQjk1MgoJEi4oIAuwz4QW8kE18DIr7y9ASOPFEioRhwbVptbUADf8jPhYDKAM+EQM4B+gKAac9AAlxuAW6wk1vPgZ1Yz4aAz4SA9AD0AM+B4vQAyQH7AOMNIMIAkTDjDfhBbyQICQoAdFCCcG1abW1AA3/Iz4WAygDPhEDOAfoCgGnPQAJcbgFusJNbz4GdWM+GgM+EgPQA9ADPgeL0AMkB+wAAdFIgcG1abW1AA3/Iz4WAygDPhEDOAfoCgGnPQAJcbgFusJNbz4GdWM+GgM+EgPQA9ADPgeL0AMkB+wAAyhNfAwGhIMIAjjv4QgFwbVptbUADf8jPhYDKAM+EQM4B+gKAac9AAlxuAW6wk1vPgZ1Yz4aAz4SA9AD0AM+B4vQAyQH7AJEw4kA0yH8BygBVQFBFzhKBAQHPAM4ByM4S9ADNye1UAXm/d9dqJoaQAAxwz9IECAgOuAfSBqAOh9IHoCGAgSiBIIEbYKxwh9IH0gfSAqkAHorDbADKqQcSqCbZ42KMDQF5vc0XaiaGkAAMcM/SBAgIDrgH0gagDofSB6AhgIEogSCBG2CscIfSB9IH0gKpAB6Kw2wAyqkHEqim2eNilA4APIEBCyICgQEBQTP0Cm+hlAHXADCSW23iIG6zkjBw3wAeUxWogScQqQQBkmagkQHi","abi":"{\"name\":\"PaymentProcessor\",\"types\":[{\"name\":\"DataSize\",\"header\":null,\"fields\":[{\"name\":\"cells\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"bits\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"refs\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"SignedBundle\",\"header\":null,\"fields\":[{\"name\":\"signature\",\"type\":{\"kind\":\"simple\",\"type\":\"fixed-bytes\",\"optional\":false,\"format\":64}},{\"name\":\"signedData\",\"type\":{\"kind\":\"simple\",\"type\":\"slice\",\"optional\":false,\"format\":\"remainder\"}}]},{\"name\":\"StateInit\",\"header\":null,\"fields\":[{\"name\":\"code\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":false}},{\"name\":\"data\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":false}}]},{\"name\":\"Context\",\"header\":null,\"fields\":[{\"name\":\"bounceable\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"sender\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"value\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"raw\",\"type\":{\"kind\":\"simple\",\"type\":\"slice\",\"optional\":false}}]},{\"name\":\"SendParameters\",\"header\":null,\"fields\":[{\"name\":\"mode\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"body\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":true}},{\"name\":\"code\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":true}},{\"name\":\"data\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":true}},{\"name\":\"value\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"to\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"bounce\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}}]},{\"name\":\"MessageParameters\",\"header\":null,\"fields\":[{\"name\":\"mode\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"body\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":true}},{\"name\":\"value\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"to\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"bounce\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}}]},{\"name\":\"DeployParameters\",\"header\":null,\"fields\":[{\"name\":\"mode\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"body\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":true}},{\"name\":\"value\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"bounce\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"init\",\"type\":{\"kind\":\"simple\",\"type\":\"StateInit\",\"optional\":false}}]},{\"name\":\"StdAddress\",\"header\":null,\"fields\":[{\"name\":\"workchain\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":8}},{\"name\":\"address\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":256}}]},{\"name\":\"VarAddress\",\"header\":null,\"fields\":[{\"name\":\"workchain\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":32}},{\"name\":\"address\",\"type\":{\"kind\":\"simple\",\"type\":\"slice\",\"optional\":false}}]},{\"name\":\"BasechainAddress\",\"header\":null,\"fields\":[{\"name\":\"hash\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":true,\"format\":257}}]},{\"name\":\"PaymentRequest\",\"header\":null,\"fields\":[{\"name\":\"buyer\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"seller\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"amount\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"buyerPaysCommission\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"optionalCommissionWallet\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":true}}]},{\"name\":\"Preview\",\"header\":null,\"fields\":[{\"name\":\"commission\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"totalPay\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"Transfer\",\"header\":1120014202,\"fields\":[{\"name\":\"req\",\"type\":{\"kind\":\"simple\",\"type\":\"PaymentRequest\",\"optional\":false}},{\"name\":\"deadline\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"SetPlatformCommissionBps\",\"header\":4004194512,\"fields\":[{\"name\":\"newBps\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}]},{\"name\":\"WithdrawAll\",\"header\":3794127834,\"fields\":[{\"name\":\"to\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}}]},{\"name\":\"PaymentProcessor$Data\",\"header\":null,\"fields\":[{\"name\":\"owner\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"platformCommissionBps\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"mainCommissionWallet\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"nftCollection\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"nonces\",\"type\":{\"kind\":\"dict\",\"key\":\"address\",\"value\":\"int\"}}]}],\"receivers\":[{\"receiver\":\"internal\",\"message\":{\"kind\":\"typed\",\"type\":\"SetPlatformCommissionBps\"}},{\"receiver\":\"internal\",\"message\":{\"kind\":\"typed\",\"type\":\"WithdrawAll\"}},{\"receiver\":\"internal\",\"message\":{\"kind\":\"typed\",\"type\":\"Transfer\"}}],\"getters\":[{\"name\":\"previewPayment\",\"methodId\":113058,\"arguments\":[{\"name\":\"amount\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"buyerPaysCommission\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}}],\"returnType\":{\"kind\":\"simple\",\"type\":\"Preview\",\"optional\":false}},{\"name\":\"nonceOf\",\"methodId\":93946,\"arguments\":[{\"name\":\"account\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}}],\"returnType\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}],\"errors\":{\"2\":{\"message\":\"Stack underflow\"},\"3\":{\"message\":\"Stack overflow\"},\"4\":{\"message\":\"Integer overflow\"},\"5\":{\"message\":\"Integer out of expected range\"},\"6\":{\"message\":\"Invalid opcode\"},\"7\":{\"message\":\"Type check error\"},\"8\":{\"message\":\"Cell overflow\"},\"9\":{\"message\":\"Cell underflow\"},\"10\":{\"message\":\"Dictionary error\"},\"11\":{\"message\":\"'Unknown' error\"},\"12\":{\"message\":\"Fatal error\"},\"13\":{\"message\":\"Out of gas error\"},\"14\":{\"message\":\"Virtualization error\"},\"32\":{\"message\":\"Action list is invalid\"},\"33\":{\"message\":\"Action list is too long\"},\"34\":{\"message\":\"Action is invalid or not supported\"},\"35\":{\"message\":\"Invalid source address in outbound message\"},\"36\":{\"message\":\"Invalid destination address in outbound message\"},\"37\":{\"message\":\"Not enough Toncoin\"},\"38\":{\"message\":\"Not enough extra currencies\"},\"39\":{\"message\":\"Outbound message does not fit into a cell after rewriting\"},\"40\":{\"message\":\"Cannot process a message\"},\"41\":{\"message\":\"Library reference is null\"},\"42\":{\"message\":\"Library change action error\"},\"43\":{\"message\":\"Exceeded maximum number of cells in the library or the maximum depth of the Merkle tree\"},\"50\":{\"message\":\"Account state size exceeded limits\"},\"128\":{\"message\":\"Null reference exception\"},\"129\":{\"message\":\"Invalid serialization prefix\"},\"130\":{\"message\":\"Invalid incoming message\"},\"131\":{\"message\":\"Constraints error\"},\"132\":{\"message\":\"Access denied\"},\"133\":{\"message\":\"Contract stopped\"},\"134\":{\"message\":\"Invalid argument\"},\"135\":{\"message\":\"Code of a contract was not found\"},\"136\":{\"message\":\"Invalid standard address\"},\"138\":{\"message\":\"Not a basechain address\"},\"12074\":{\"message\":\"empty\"},\"15534\":{\"message\":\"expired\"},\"42041\":{\"message\":\"buyer must send\"},\"47884\":{\"message\":\"insufficient value\"},\"54178\":{\"message\":\"invalid amount\"},\"57790\":{\"message\":\"bps out of range\"},\"58772\":{\"message\":\"only owner\"},\"62794\":{\"message\":\"invalid seller\"}},\"interfaces\":[\"org.ton.introspection.v0\",\"org.ton.abi.ipfs.v0\",\"org.ton.deploy.lazy.v0\"]}","init":{"kind":"direct","args":[{"name":"owner","type":{"kind":"simple","type":"address","optional":false}},{"name":"mainCommissionWallet","type":{"kind":"simple","type":"address","optional":false}},{"name":"nftCollection","type":{"kind":"simple","type":"address","optional":false}}],"prefix":{"bits":1,"value":0},"deployment":{"kind":"system-cell","system":null}},"sources":{"contracts/PaymentProcessor.tact":"Ly8gUGF5bWVudFByb2Nlc3NvciBmb3IgVE9OIChUYWN0KQovLyBNaXJyb3JzIGNvcmUgbG9naWMgb2YgdGhlIHByb3ZpZGVkIFNvbGlkaXR5IGNvbnRyYWN0OgovLyAtIE93bmVyLW1hbmFnZWQgcGxhdGZvcm1Db21taXNzaW9uQnBzCi8vIC0gVHJhbnNmZXIgd2l0aCBjb21taXNzaW9uIHNwbGl0dGluZyBhbmQgb3B0aW9uYWwgcGFydG5lciBzaGFyZQovLyAtIE5vbmNlcyArIGRlYWRsaW5lIGNoZWNrcyAoZGlyZWN0LWNhbGwgZmxvdzogYnV5ZXIgbXVzdCBzZW5kIHRoZSBtZXNzYWdlKQoKLy8gTm8gc3RkbGliIGltcG9ydCByZXF1aXJlZCBmb3IgY3VycmVudCBUYWN0IHZlcnNpb24KCi8vIE1pbmltYWwgaW50ZXJmYWNlIGZvciBhbiBleHRlcm5hbCBORlQtbGlrZSBjb250cmFjdCB1c2VkIGZvciByZXdhcmRzCi8vIEV4cG9zZXMgdHdvIGludGVyYWN0aW9ucyBhbmFsb2dvdXMgdG8gdGhlIFNvbGlkaXR5IGV4YW1wbGU6Ci8vIC0gZ2V0UGxhdGZvcm1TaGFyZUJwc0ZvcldhbGxldChhZGRyZXNzKSAtPiBJbnQgKDAuLjEwMDAwKQovLyAtIGluY3JlbWVudFN1Y2Nlc3NmdWxUeChhZGRyZXNzKQovLyBOb3RlOiBpbiBUT04sIGNyb3NzLWNvbnRyYWN0IHJlYWRzIGFyZSBnZXQtbWV0aG9kIGNhbGxzLCB3cml0ZXMgYXJlIGludGVybmFsIG1lc3NhZ2VzLgoKdHJhaXQgSURlZk5GVCB7CiAgICBhYnN0cmFjdCBnZXQgZnVuIGdldFBsYXRmb3JtU2hhcmVCcHNGb3JXYWxsZXQod2FsbGV0OiBBZGRyZXNzKTogSW50OwogICAgLy8gaW5jcmVtZW50U3VjY2Vzc2Z1bFR4INCy0YvQt9GL0LLQsNC10YLRgdGPINC60LDQuiDQstGF0L7QtNGP0YnQtdC1INGB0L7QvtCx0YnQtdC90LjQtSDRgyDQstC90LXRiNC90LXQs9C+INC60L7QvdGC0YDQsNC60YLQsCDRh9C10YDQtdC3IHNlbmQoYm9keSkKfQoKc3RydWN0IFBheW1lbnRSZXF1ZXN0IHsKICAgIGJ1eWVyOiBBZGRyZXNzOwogICAgc2VsbGVyOiBBZGRyZXNzOwogICAgYW1vdW50OiBJbnQ7ICAgICAgICAgICAgICAgICAvLyBpbiBuYW5vdG9ucwogICAgYnV5ZXJQYXlzQ29tbWlzc2lvbjogQm9vbDsKICAgIG9wdGlvbmFsQ29tbWlzc2lvbldhbGxldDogQWRkcmVzcz87IC8vIE5vbmUgaWYgbm90IHVzZWQKfQoKc3RydWN0IFByZXZpZXcgewogICAgY29tbWlzc2lvbjogSW50OwogICAgdG90YWxQYXk6IEludDsKfQoKbWVzc2FnZSBUcmFuc2ZlciB7IHJlcTogUGF5bWVudFJlcXVlc3Q7IGRlYWRsaW5lOiBJbnQ7IH0KbWVzc2FnZSBTZXRQbGF0Zm9ybUNvbW1pc3Npb25CcHMgeyBuZXdCcHM6IEludDsgfQptZXNzYWdlIFdpdGhkcmF3QWxsIHsgdG86IEFkZHJlc3M7IH0KCmNvbnRyYWN0IFBheW1lbnRQcm9jZXNzb3IgewogICAgb3duZXI6IEFkZHJlc3M7CiAgICBwbGF0Zm9ybUNvbW1pc3Npb25CcHM6IEludDsgLy8gMC4uMTAwMDAKICAgIG1haW5Db21taXNzaW9uV2FsbGV0OiBBZGRyZXNzOwogICAgbmZ0Q29sbGVjdGlvbjogQWRkcmVzczsgICAgIC8vIGNvbnRyYWN0IGFkZHJlc3MgaW1wbGVtZW50aW5nIElEZWZORlQKCiAgICAvLyBTaW1wbGUgcGVyLWJ1eWVyIG5vbmNlIHN0b3JhZ2UKICAgIG5vbmNlczogbWFwPEFkZHJlc3MsIEludD47CgogICAgaW5pdChvd25lcjogQWRkcmVzcywgbWFpbkNvbW1pc3Npb25XYWxsZXQ6IEFkZHJlc3MsIG5mdENvbGxlY3Rpb246IEFkZHJlc3MpIHsKICAgICAgICBzZWxmLm93bmVyID0gb3duZXI7CiAgICAgICAgc2VsZi5tYWluQ29tbWlzc2lvbldhbGxldCA9IG1haW5Db21taXNzaW9uV2FsbGV0OwogICAgICAgIHNlbGYubmZ0Q29sbGVjdGlvbiA9IG5mdENvbGxlY3Rpb247CiAgICAgICAgc2VsZi5wbGF0Zm9ybUNvbW1pc3Npb25CcHMgPSAyNTsgLy8gMC4yNSUKICAgICAgICAvLyBub25jZXMgYWxyZWFkeSBpbml0aWFsaXplZCBieSBkZWZhdWx0CiAgICB9CgogICAgLy8gPT09PT09PT09PT09IEFkbWluID09PT09PT09PT09PQogICAgcmVjZWl2ZShtOiBTZXRQbGF0Zm9ybUNvbW1pc3Npb25CcHMpIHsKICAgICAgICByZXF1aXJlKHNlbmRlcigpID09IHNlbGYub3duZXIsICJvbmx5IG93bmVyIik7CiAgICAgICAgcmVxdWlyZShtLm5ld0JwcyA+PSAwICYmIG0ubmV3QnBzIDw9IDEwMDAwLCAiYnBzIG91dCBvZiByYW5nZSIpOwogICAgICAgIHNlbGYucGxhdGZvcm1Db21taXNzaW9uQnBzID0gbS5uZXdCcHM7CiAgICB9CgogICAgcmVjZWl2ZSh3OiBXaXRoZHJhd0FsbCkgewogICAgICAgIHJlcXVpcmUoc2VuZGVyKCkgPT0gc2VsZi5vd25lciwgIm9ubHkgb3duZXIiKTsKICAgICAgICBsZXQgdG8gPSB3LnRvOwogICAgICAgIGxldCBiYWwgPSBteUJhbGFuY2UoKTsKICAgICAgICByZXF1aXJlKGJhbCA+IDAsICJlbXB0eSIpOwogICAgICAgIHNlbmQoU2VuZFBhcmFtZXRlcnN7IHRvOiB0bywgdmFsdWU6IGJhbCB9KTsKICAgIH0KCiAgICAvLyA9PT09PT09PT09PT0gUGF5bWVudCBlbnRyeSA9PT09PT09PT09PT0KICAgIC8vIERpcmVjdC1jYWxsIGZsb3c6IHRoZSBidXllciBtdXN0IGJlIHRoZSBzZW5kZXIgb2YgdGhlIG1lc3NhZ2UuCiAgICAvLyBJZiB5b3UgbmVlZCByZWxheWluZyArIG9mZmNoYWluIHNpZ25hdHVyZXMsIGV4dGVuZCB3aXRoIGVkMjU1MTkgc2lnbmF0dXJlIHZlcmlmaWNhdGlvbiBvbiBhIGNhbm9uaWNhbCBwYXlsb2FkLgogICAgcmVjZWl2ZSh0OiBUcmFuc2ZlcikgewogICAgICAgIGxldCByZXEgPSB0LnJlcTsKICAgICAgICByZXF1aXJlKHJlcS5zZWxsZXIgIT0gcmVxLmJ1eWVyLCAiaW52YWxpZCBzZWxsZXIiKTsKICAgICAgICByZXF1aXJlKHJlcS5hbW91bnQgPiAwLCAiaW52YWxpZCBhbW91bnQiKTsKICAgICAgICByZXF1aXJlKG5vdygpIDw9IHQuZGVhZGxpbmUsICJleHBpcmVkIik7CgogICAgICAgIC8vIE5vbmNlIGNoZWNrICYgY29uc3VtZQogICAgICAgIGxldCBjdXJyZW50Tm9uY2UgPSBzZWxmLm5vbmNlcy5nZXQocmVxLmJ1eWVyKTsKICAgICAgICAvLyBJbiB0aGlzIGRpcmVjdC1jYWxsIHZhcmlhbnQsIHdlIGJpbmQgbm9uY2UgdXNhZ2UgdG8gYnV5ZXIgPT0gbXNnLnNlbmRlcgogICAgICAgIHJlcXVpcmUoc2VuZGVyKCkgPT0gcmVxLmJ1eWVyLCAiYnV5ZXIgbXVzdCBzZW5kIik7CiAgICAgICAgbGV0IG5leHROb25jZTogSW50ID0gKGN1cnJlbnROb25jZSAhPSBudWxsKSA/IChjdXJyZW50Tm9uY2UhISArIDEpIDogMTsKICAgICAgICBzZWxmLm5vbmNlcy5zZXQocmVxLmJ1eWVyLCBuZXh0Tm9uY2UpOwoKICAgICAgICAvLyBDb21wdXRlIGNvbW1pc3Npb25zCiAgICAgICAgbGV0IGNvbW1pc3Npb24gPSAocmVxLmFtb3VudCAqIHNlbGYucGxhdGZvcm1Db21taXNzaW9uQnBzKSAvIDEwMDAwOwogICAgICAgIGxldCB0b3RhbFBheSA9IHJlcS5idXllclBheXNDb21taXNzaW9uID8gKHJlcS5hbW91bnQgKyBjb21taXNzaW9uKSA6IHJlcS5hbW91bnQ7CgogICAgICAgIC8vIFZhbGlkYXRlIGF0dGFjaGVkIHZhbHVlCiAgICAgICAgcmVxdWlyZShjb250ZXh0KCkudmFsdWUgPj0gdG90YWxQYXksICJpbnN1ZmZpY2llbnQgdmFsdWUiKTsKCiAgICAgICAgLy8gU2VsbGVyIHBheW91dAogICAgICAgIGlmIChyZXEuYnV5ZXJQYXlzQ29tbWlzc2lvbikgewogICAgICAgICAgICBzZW5kKFNlbmRQYXJhbWV0ZXJzeyB0bzogcmVxLnNlbGxlciwgdmFsdWU6IHJlcS5hbW91bnQgfSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgc2VuZChTZW5kUGFyYW1ldGVyc3sgdG86IHJlcS5zZWxsZXIsIHZhbHVlOiByZXEuYW1vdW50IC0gY29tbWlzc2lvbiB9KTsKICAgICAgICB9CgogICAgICAgIC8vIE9wdGlvbmFsIHNoYXJlIHZpYSBuZnRDb2xsZWN0aW9uCiAgICAgICAgLy8gTk9URTogRXh0ZXJuYWwgZ2V0LW1ldGhvZCBjYWxscyB0byBuZnRDb2xsZWN0aW9uIGFyZSBkaXNhYmxlZCBpbiB0aGlzIG1pbmltYWwgYnVpbGQuCiAgICAgICAgLy8gWW91IGNhbiB3aXJlIHRoZW0gdXNpbmcgVGFjdCdzIGV4dGVybmFsIGdldCBpbnZvY2F0aW9uIEFQSXMuCiAgICAgICAgbGV0IHNoYXJlOiBJbnQgPSAwOwogICAgICAgIGxldCBvcHRpb25hbFBhcnQ6IEludCA9IChzaGFyZSA+IDApID8gKChjb21taXNzaW9uICogc2hhcmUpIC8gMTAwMDApIDogMDsKCiAgICAgICAgbGV0IHBsYXRmb3JtUGFydCA9IGNvbW1pc3Npb24gLSBvcHRpb25hbFBhcnQ7CiAgICAgICAgaWYgKHBsYXRmb3JtUGFydCA+IDApIHsKICAgICAgICAgICAgc2VuZChTZW5kUGFyYW1ldGVyc3sgdG86IHNlbGYubWFpbkNvbW1pc3Npb25XYWxsZXQsIHZhbHVlOiBwbGF0Zm9ybVBhcnQgfSk7CiAgICAgICAgfQogICAgICAgIGlmIChvcHRpb25hbFBhcnQgPiAwICYmIHJlcS5vcHRpb25hbENvbW1pc3Npb25XYWxsZXQgIT0gbnVsbCkgewogICAgICAgICAgICBzZW5kKFNlbmRQYXJhbWV0ZXJzeyB0bzogcmVxLm9wdGlvbmFsQ29tbWlzc2lvbldhbGxldCEhLCB2YWx1ZTogb3B0aW9uYWxQYXJ0IH0pOwogICAgICAgIH0KCiAgICAgICAgLy8gUmVmdW5kIGNoYW5nZSAoaWYgYW55KSBiYWNrIHRvIHNlbmRlcgogICAgICAgIGxldCBjaGFuZ2UgPSBjb250ZXh0KCkudmFsdWUgLSB0b3RhbFBheTsKICAgICAgICBpZiAoY2hhbmdlID4gMCkgewogICAgICAgICAgICBzZW5kKFNlbmRQYXJhbWV0ZXJzeyB0bzogc2VuZGVyKCksIHZhbHVlOiBjaGFuZ2UgfSk7CiAgICAgICAgfQogICAgfQoKICAgIC8vID09PT09PT09PT09PSBWaWV3cyA9PT09PT09PT09PT0KICAgIGdldCBmdW4gcHJldmlld1BheW1lbnQoYW1vdW50OiBJbnQsIGJ1eWVyUGF5c0NvbW1pc3Npb246IEJvb2wpOiBQcmV2aWV3IHsKICAgICAgICBsZXQgY29tbWlzc2lvbiA9IChhbW91bnQgKiBzZWxmLnBsYXRmb3JtQ29tbWlzc2lvbkJwcykgLyAxMDAwMDsKICAgICAgICBsZXQgdG90YWxQYXkgPSBidXllclBheXNDb21taXNzaW9uID8gKGFtb3VudCArIGNvbW1pc3Npb24pIDogYW1vdW50OwogICAgICAgIHJldHVybiBQcmV2aWV3eyBjb21taXNzaW9uOiBjb21taXNzaW9uLCB0b3RhbFBheTogdG90YWxQYXkgfTsKICAgIH0KCiAgICBnZXQgZnVuIG5vbmNlT2YoYWNjb3VudDogQWRkcmVzcyk6IEludCB7CiAgICAgICAgbGV0IG4gPSBzZWxmLm5vbmNlcy5nZXQoYWNjb3VudCk7CiAgICAgICAgcmV0dXJuIChuICE9IG51bGwpID8gbiEhIDogMDsKICAgIH0KfQo="},"compiler":{"name":"tact","version":"1.6.13","parameters":"{\"entrypoint\":\"contracts/PaymentProcessor.tact\",\"options\":{}}"}}